#!/usr/bin/env bash

# Editor
export EDITOR='hx'

# hyperconsciousness prompt: [hyperconsciousness HH:MM:SS] ~/path on line 1, > on line 2
# Colors: dark gray (90) for timestamp, bright magenta (95) for path
export PS1='\[\e[90m\][hyperconsciousness \t]\[\e[0m\] \[\e[95m\]\w\[\e[0m\]\n> '

# Common paths
export PATH="$HOME/bin:$HOME/binaries:$PATH"
export PATH="$HOME/.cargo/bin:$PATH"
export PATH="$HOME/.local/bin:$PATH"

# Docker
export DOCKER_CLI_EXPERIMENTAL=enabled

# OS-specific
case "$(uname -s)" in
    Darwin)
        # macOS
        export PATH="/opt/homebrew/bin:$PATH"
        [ -x /opt/homebrew/bin/brew ] && eval "$(/opt/homebrew/bin/brew shellenv)"
        export PATH="/opt/homebrew/opt/gnu-sed/libexec/gnubin:$PATH"
        export BASH_SILENCE_DEPRECATION_WARNING=1
        export PATH="$HOME/.bun/bin:$PATH"
        ;;
    MINGW*|MSYS*|CYGWIN*)
        # Windows (Git Bash / MSYS2)
        export PATH="/c/msys64/ucrt64/bin:$PATH"
        export PATH="/c/Program Files/nodejs:$PATH"
        export PATH="/c/Program Files/TightVNC:$PATH"
        # npm global
        export PATH="$HOME/AppData/Roaming/npm:$PATH"
        # WinGet packages (jq, etc)
        export PATH="$HOME/AppData/Local/Microsoft/WinGet/Packages/jqlang.jq_Microsoft.Winget.Source_8wekyb3d8bbwe:$PATH"
        # Hashicorp tools (Terraform, Packer)
        export PATH="$HOME/AppData/Local/Microsoft/WinGet/Packages/Hashicorp.Terraform_Microsoft.Winget.Source_8wekyb3d8bbwe:$PATH"
        export PATH="$HOME/AppData/Local/Microsoft/WinGet/Packages/Hashicorp.Packer_Microsoft.Winget.Source_8wekyb3d8bbwe:$PATH"
        ;;
    Linux)
        # Linux - CUDA if nvidia
        if command -v nvidia-smi &> /dev/null; then
            export PATH="/usr/local/cuda/bin:$PATH"
            export LD_LIBRARY_PATH="/usr/local/cuda/lib64:$LD_LIBRARY_PATH"
        fi
        ;;
esac
